# Continuous Section Field (CSF)
## An Analytical Engine for Non-Prismatic Structural Members
![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![Math](https://img.shields.io/badge/Engine-Analytical_Mechanics-red.svg)
![Integration](https://img.shields.io/badge/Integration-Gaussian_Quadrature-green.svg)

**CSF** is a Python library for the geometric and mechanical modeling of **single non-prismatic structural members** (slender beams with variable cross-sections).


<img width="578" height="578" alt="Tapered-Pi-Section" src="https://github.com/user-attachments/assets/60dc9530-89dc-4df4-a222-8c87c5ee19c2" />

### **Arbitrary Cross-Section Support**
Unlike traditional structural tools limited to predefined geometric templates, this library treats the cross-section as a **fully generic topological entity**.

* **Algebraic Polygon Logic:** Sections are defined as a collection of vertices in a 2D plane. By utilizing **weighted vertex logic**, the engine can compute properties for any shape, from standard circular towers to complex, custom-engineered architectural profiles.
* **Curvature:** While the model uses discrete segments, it supports an arbitrary number of sides. You can approximate curved surfaces (like the NREL tower) by increasing the vertex count, effectively reducing the segment length to reach any desired level of precision.
* **No Predefined Templates:** You are not restricted to "Circle" or "Rectangle" classes. If a geometry can be described by coordinates, the library can compute its structural mechanics ($A, I, J, Q$).
* **Topological Freedom:** The algebraic approach allows for seamless modeling of:
    * **Hollow Sections:** (e.g., the NREL tapered shell).
    * **Multi-cellular Shapes:** Complex internal stiffeners or multi-chamber profiles.
    * **Composite Logic:** Multi-material sections by applying modular ratio weights to different polygons.

> [!IMPORTANT]
> **Not a FEM Solver**: This library is **not** a Finite Element Method (FEM) software. It is a geometric and constitutive "engine" designed to model the continuous variation of a single member. It provides the stiffness matrices and sectional properties required for structural analysis, acting as a high-accuracy pre-processor or a kernel for beam theory applications.

---

## 1. Theoretical Framework: Overcoming Discretization Dependence
The common practice of modeling non-prismatic members as a concatenation of equivalent prismatic elements (**piecewise-prismatic approach**) introduces a non-neutral methodological choice. The numerical solution varies with the number of subdivisions and the location of sampling points.

**CSF** treats the single member as a **continuous manifold** using **ruled surfaces**. By defining the member‚Äôs geometry through explicit analytical functions (linear interpolation of vertices), the library ensures that:
* The structural response is an intrinsic property of the geometry.
* Physical properties (Area, Inertia) are defined at every infinitesimal coordinate $z$.
* Arbitrariness is confined exclusively to the solver level, ensuring reproducibility.

---

## 2. Key Features

### Ruled Surfaces and Vertex Interpolation

The 3D volume is generated by connecting a **Start** section at $z_{start}$ and an **End** section at $z_{end}$ using **ruled surfaces**.

For each vertex $P_i$, the generator line is defined as:

$$
P_i(z) = P_{i,start} + \frac{z - z_{start}}{z_{end} - z_{start}} \cdot (P_{i,end} - P_{i,start})
$$

**Geometric results**:
- **Linear Interpolation**: Each vertex of the cross-section is described as a linear function of the longitudinal coordinate.
- **Ruled Surfaces**: This mapping creates ruled surfaces that define a smooth variation of the section, making vertex coordinates polynomial functions of known degree.
- **Continuous taper**: smooth transition between different shapes (e.g. tapered T-beams, conical tubes)
- **Continuous properties**: $A(z)$, $I(z)$, $EA(z)$, $EI(z)$, $GJ(z)$ defined analytically along the entire axis


### The Role of Polygons: Homogenization & Voids
Polygons in CSF are the fundamental units for both geometry and mechanics:
* **Multi-material sections**: Each polygon carries a `weight` attribute ($n = E_i / E_{ref}$). This allows the modeling of composite sections (e.g., steel-reinforced timber) by calculating the **Elastic Centroid**.
* **Hole Modeling (Algebraic Voids)**: By assigning a **weight of -1.0**, a polygon acts as a hole. The library automatically subtracts its area and inertia from the total, allowing for effortless modeling of hollow tubes or cellular beams without complex boolean operations.

## üöÄ OpenSees Integration

This library bridges the gap between complex geometric modeling (Ruled Surfaces) and structural analysis. It provides built-in functions to export your models directly to **OpenSees**.


### Advanced Property Digestor
For any point $z$ along the axis, the library calculates:
* **Sectional Stiffness Matrix ($3 \times 3$)**: Rigorous coupling of axial and flexural stiffness ($EA, EI_x, EI_y, EI_{xy}$) via Gaussian Quadrature over triangulated domains.
* **Shear Analysis (Jourawski)**: Calculation of the **Partial Statical Moment ($Q$)** using a polygon clipping algorithm, enabling shear stress analysis on variable sections.
* **Volumetric Analysis**: Exact material volume calculation via integration of the area function $A(z)$.
---

## 3. Sectional Analysis Engine

The library is designed for the analysis of tapered, non-homogeneous members (such as wind turbine towers or complex bridge girders) where properties vary along the longitudinal axis.

## Technical Methodology & Integration Schemes

The engine employs a **multi-pass analysis** combined with **Gaussian integration schemes** to extract structural parameters with high numerical fidelity. Specifically engineered for **tapered and non-homogeneous members**, it is ideal for applications where sectional properties vary continuously along the longitudinal axis (e.g., wind turbine towers, bridge girders, or aerospace components).

####  Multi-Pass Analysis Workflow
To ensure accuracy, the library processes geometry in distinct logical stages:
* **Geometric Pass**: Uses the **Shoelace algorithm** (Surveyor's formula) to determine net area and first moments, applying **Steiner‚Äôs Parallel Axis Theorem** to translate results to the centroid.
* **Principal Axis Pass**: Performs eigen-decomposition of the inertia tensor (Mohr's Circle logic) to identify principal moments ($I_1, I_2$) and the rotation angle ($\theta$).

####  Gaussian Integration Schemes (Numerical Quadrature)
For complex constitutive properties, the library moves beyond simple boundary integration:
* **Stiffness Matrix Calculation**: To compute the exact sectional stiffness matrix $[K]$, the engine performs **Gaussian quadrature** on triangulated sub-domains. 
* **Sub-domain Triangulation**: Each polygon is decomposed into triangles where integration points and weights are applied, allowing the model to handle variations in Elastic Moduli ($E$) across the section.

####  Continuous Longitudinal Mapping
Unlike traditional frame analysis software that treats members as prismatic, this library treats the member as a **Continuous Section Field**:
* **Dynamic Computation**: Every property is calculated "on-the-fly" at any longitudinal coordinate $z$ via linear vertex-mapping.
* **Homogenization & Voids**: Full support for material homogenization through **positive weights** and internal voids or cut-outs through **negative weights**.

#### The CSF library natively provides

Primary & Centroidal Properties
| ID | Parameter | Symbol | Technical Description |
| :--- | :--- | :---: | :--- |
| 1 | **Area** | $A$ | Total net cross-sectional area |
| 2 | **Centroid Cx** | $C_x$ | Horizontal coordinate of the geometric centroid |
| 3 | **Centroid Cy** | $C_y$ | Vertical coordinate of the geometric centroid |
| 4 | **Inertia Ix** | $I_x$ | Second moment of area about centroidal X-axis |
| 5 | **Inertia Iy** | $I_y$ | Second moment of area about centroidal Y-axis |
| 6 | **Inertia Ixy** | $I_{xy}$ | Product of inertia (Zero indicates symmetry) |
| 7 | **Polar Moment** | $J$ | Polar moment of area ($I_x + I_y$) |



Derived Geometric Properties
| ID | Parameter | Symbol | Technical Description |
| :--- | :--- | :---: | :--- |
| 8 | **Principal I1** | $I_1$ | Maximum Principal Moment of Area |
| 9 | **Principal I2** | $I_2$ | Minimum Principal Moment of Area |
| 10 | **Radius rx** | $r_x$ | Radius of gyration about X: $\sqrt{I_x/A}$ |
| 11 | **Radius ry** | $r_y$ | Radius of gyration about Y: $\sqrt{I_y/A}$ |

Structural Analysis (Strength & Rigidity)
| ID | Parameter | Symbol | Technical Description |
| :--- | :--- | :---: | :--- |
| 12 | **Elastic Modulus Wx** | $W_x$ | Section modulus for bending about X ($I_x / y_{max}$) |
| 13 | **Elastic Modulus Wy** | $W_y$ | Section modulus for bending about Y ($I_y / x_{max}$) |
| 14 | **Torsional Rigidity** | $K$ | Saint-Venant Torsional Constant (Open Section) |


Shear & Verification Data
| ID | Parameter | Symbol | Technical Description |
| :--- | :--- | :---: | :--- |
| 15 | **Poly 0 Ix (Origin)** | $I_{x0}$ | Polygon 0 inertia relative to global origin |
| 16 | **Poly 0 Q_local** | $Q_{p0}$ | Statical moment of Poly 0 relative to centroid |
| 17 | **Section Q_na** | $Q_{na}$ | Total Statical Moment at Neutral Axis (for $\tau$ shear) |
| 18 | **Stiffness Shape** | Matrix | Dimensionality of the Sectional Stiffness Matrix $[K]$ |

---


## Target Applications & Use Cases

**CSF** is designed for specialist engineering scenarios where standard "piecewise-prismatic" approximations are insufficient or inefficient.

### Wind Energy (Offshore & Onshore)
High-fidelity modeling of tapered steel or concrete towers. Since CSF captures the continuous variation of the section, it provides more accurate natural frequency (eigenvalue) analysis and mass distribution, which are critical for aero-elastic stability.
* **Benefit**: Reduces the number of elements needed for a full tower model while increasing precision.

### Complex Infrastructure & Bridges
Ideal for bridge piers with non-standard geometries (e.g., transitioning from a rectangular base to a circular or elliptical top) or bridge decks with variable depth.
* **Benefit**: Exact stiffness matrix generation for "Organic" or non-catalog shapes.

### Academic Research & Software Development
A "plug-and-play" mechanical engine for researchers developing new FEM codes, non-linear solvers, or optimization algorithms.
* **Benefit**: Avoids rewriting the complex geometric integration and statical moment logic from scratch.
---
## 6. Model Validation: Circular Hollow Section
<br>
<img width="513" height="675" alt="cilinder_withcheck" src="https://github.com/user-attachments/assets/6ea0c8e5-4cc9-4d9a-8773-c9318cbe9ddb" />

To verify the accuracy of the numerical engine, a validation test was performed using a **non-tapered hollow cylinder** (Steel Pipe). This allows for a direct comparison between the library's results (based on weighted polygons) and exact analytical formulas.

The test script `cilinder_withcheck.py` models a tower with a diameter of 4.935m and a thickness of 23mm using a 512-sided polygon. The results demonstrate that the polygonal approximation converges to the analytical solution with exceptional precision.

### Extended Validation Report
The following table reports the full output of the validation script, comparing **Theoretical (Analytical)** values with the **Numerical** results generated by the library.

| Structural Property                  | Sym    | Theoretical        | Numerical          | Error             | Unit |
|-------------------------------------|--------|--------------------|--------------------|-------------------|------|
| Net material cross-section          | A      | 3.54924572e-01     | 3.54915663e-01     | 0.0025%           | m¬≤   |
| Horizontal center of mass           | Cx     | 0.00000000e+00     | 5.44816314e-15     | 5.45e-15 (abs)    | m    |
| Vertical center of mass             | Cy     | 0.00000000e+00     | -4.12383916e-14    | 4.12e-14 (abs)    | m    |
| Axial stiffness                     | EA     | 7.45341600e+10     | 7.45322893e+10     | 0.0025%           | N    |
| Bending stiffness about X           | EIxx   | 2.24797570e+11     | 2.24786286e+11     | 0.0050%           | N¬∑m¬≤ |
| Bending stiffness about Y           | EIyy   | 2.24797570e+11     | 2.24786286e+11     | 0.0050%           | N¬∑m¬≤ |
| Symmetry check (Ixy)                | Ixy    | 0.00000000e+00     | 3.45889405e-15     | 3.46e-15 (abs)    | m‚Å¥   |
| Torsional stiffness constant        | J      | 2.14092924e+00     | 2.14082177e+00     | 0.0050%           | m‚Å¥   |
| Torsional stiffness (GJ)            | GJ     | 1.72987083e+11     | 1.72978399e+11     | 0.0050%           | N¬∑m¬≤ |
| Maximum bending stiffness           | EI_max | 2.24797570e+11     | 2.24786286e+11     | 0.0050%           | N¬∑m¬≤ |
| Minimum bending stiffness           | EI_min | 2.24797570e+11     | 2.24786286e+11     | 0.0050%           | N¬∑m¬≤ |
| Principal axis rotation             | Alpha  | 0.00000000e+00     | 0.00000000e+00     | 0.0000% (Iso)     | deg  |
| Buckling radius about X             | rx     | 1.73667329e+00     | 1.73665150e+00     | 0.0013%           | m    |
| Buckling radius about Y             | ry     | 1.73667329e+00     | 1.73665150e+00     | 0.0013%           | m    |
| First moment of area (Shear)        | Q      | 2.77471084e-01     | 2.77460637e-01     | 0.0038%           | m¬≥   |
| Elastic Section Modulus             | W      | 4.33825580e-01     | 4.33803803e-01     | 0.0050%           | m¬≥   |
| Mass per unit length                | m_lin  | 2.78615789e+03     | 2.78608796e+03     | 0.0025%           | kg/m |

---

**Total Calculated Tower Volume:** 31.090612 m¬≥  

**Total Calculated Tower Mass:** 244.061305 t  

| Description          | Theoretical | Numerical | Error   | Unit |
|----------------------|-------------|-----------|---------|------|
| Total Tower Mass     | 244.067     | 244.061   | 0.0025% | t    |

  
## 4. Advanced Validation: NREL 5-MW Reference Wind Turbine Tower

* **NREL Wind Research**: Official portal for wind energy data, software, and reference models. [https://www.nrel.gov/wind/](https://www.nrel.gov/wind/)

<img width="424" height="630" alt="5-MW" src="https://github.com/user-attachments/assets/73fe46a0-b778-489c-9f49-980ea3d0a20e" />


To demonstrate the library's performance on complex, real-world structural members, a full-scale model of the **NREL 5-MW Reference Wind Turbine Tower** was implemented. The geometry and material properties strictly follow the technical report *"Definition of a 5-MW Reference Wind Turbine for Offshore System Development"* (NREL/TP-500-38060).

The following tables provide a side-by-side comparison between the **Numerical results generated by CSF** and the **Official NREL Reference Data (Table 6-1) pdf official doc**.

### CSF Numerical Results (Generated Model)
| Elevation [m] | HtFract | TMassDen [kg/m] | TwFAStif [N¬∑m¬≤] | TwSSStif [N¬∑m¬≤] | TwGJStif [N¬∑m¬≤] | TwEAStif [N] | TwFAIner [kg¬∑m] | TwSSIner [kg¬∑m] |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 0.00 | 0.000 | 4306.07 | 4.7440e+11 | 4.7440e+11 | 3.6506e+11 | 1.0639e+11 | 1.92e+04 | 1.92e+04 |
| 8.76 | 0.100 | 4030.04 | 4.1300e+11 | 4.1300e+11 | 3.1781e+11 | 9.9566e+10 | 1.67e+04 | 1.67e+04 |
| 17.52 | 0.200 | 3763.07 | 3.5775e+11 | 3.5775e+11 | 2.7530e+11 | 9.2970e+10 | 1.45e+04 | 1.45e+04 |
| 26.28 | 0.300 | 3505.17 | 3.0823e+11 | 3.0823e+11 | 2.3719e+11 | 8.6598e+10 | 1.25e+04 | 1.25e+04 |
| 35.04 | 0.400 | 3256.33 | 2.6403e+11 | 2.6403e+11 | 2.0318e+11 | 8.0450e+10 | 1.07e+04 | 1.07e+04 |
| 43.80 | 0.500 | 3016.56 | 2.2475e+11 | 2.2475e+11 | 1.7295e+11 | 7.4527e+10 | 9.10e+03 | 9.10e+03 |
| 52.56 | 0.600 | 2785.85 | 1.9002e+11 | 1.9002e+11 | 1.4622e+11 | 6.8827e+10 | 7.69e+03 | 7.69e+03 |
| 61.32 | 0.700 | 2564.21 | 1.5946e+11 | 1.5946e+11 | 1.2271e+11 | 6.3351e+10 | 6.45e+03 | 6.45e+03 |
| 70.08 | 0.800 | 2351.63 | 1.3274e+11 | 1.3274e+11 | 1.0215e+11 | 5.8099e+10 | 5.37e+03 | 5.37e+03 |
| 78.84 | 0.900 | 2148.12 | 1.0951e+11 | 1.0951e+11 | 8.4274e+10 | 5.3071e+10 | 4.43e+03 | 4.43e+03 |
| 87.60 | 1.000 | 1953.67 | 8.9470e+10 | 8.9470e+10 | 6.8849e+10 | 4.8267e+10 | 3.62e+03 | 3.62e+03 |

&nbsp;

### Official NREL 5-MW Tower Data (Reference Table 6-1)
| Elevation [m] | HtFract | TMassDen [kg/m] | TwFAStif [N¬∑m¬≤] | TwSSStif [N¬∑m¬≤] | TwGJStif [N¬∑m¬≤] | TwEAStif [N] | TwFAIner [kg¬∑m] | TwSSIner [kg¬∑m] |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 0.00 | 0.000 | 4306.0 | 4.744e+11 | 4.744e+11 | 3.651e+11 | 1.064e+11 | 1.92e+04 | 1.92e+04 |
| 8.76 | 0.100 | 4030.0 | 4.130e+11 | 4.130e+11 | 3.178e+11 | 9.957e+10 | 1.67e+04 | 1.67e+04 |
| 17.52 | 0.200 | 3763.1 | 3.578e+11 | 3.578e+11 | 2.753e+11 | 9.298e+10 | 1.44e+04 | 1.44e+04 |
| 26.28 | 0.300 | 3505.2 | 3.082e+11 | 3.082e+11 | 2.372e+11 | 8.661e+10 | 1.24e+04 | 1.24e+04 |
| 35.04 | 0.400 | 3256.3 | 2.640e+11 | 2.640e+11 | 2.032e+11 | 8.046e+10 | 1.07e+04 | 1.07e+04 |
| 43.80 | 0.500 | 3016.6 | 2.248e+11 | 2.248e+11 | 1.730e+11 | 7.453e+10 | 9.08e+03 | 9.08e+03 |
| 52.56 | 0.600 | 2785.8 | 1.900e+11 | 1.900e+11 | 1.462e+11 | 6.883e+10 | 7.67e+03 | 7.67e+03 |
| 61.32 | 0.700 | 2564.2 | 1.595e+11 | 1.595e+11 | 1.227e+11 | 6.335e+10 | 6.44e+03 | 6.44e+03 |
| 70.08 | 0.800 | 2351.6 | 1.327e+11 | 1.327e+11 | 1.021e+11 | 5.810e+10 | 5.36e+03 | 5.36e+03 |
| 78.84 | 0.900 | 2148.1 | 1.095e+11 | 1.095e+11 | 8.427e+10 | 5.307e+10 | 4.42e+03 | 4.42e+03 |
| 87.60 | 1.000 | 1953.7 | 8.947e+10 | 8.947e+10 | 6.885e+10 | 4.827e+10 | 3.61e+03 | 3.61e+03 |


### Scientific Observation
The alignment between the CSF results and the NREL data is nearly perfect. Small discrepancies (e.g., in mass or inertia) are due to the fact that NREL data is often rounded for publication, while CSF maintains double-precision accuracy throughout its internal integration of the ruled surface. This comparison confirms the library's ability to accurately handle **continuously varying tapered sections** in high-stakes engineering applications.

## References & Official Documentation

This project was developed and validated using the following official engineering standards and technical references:

### Wind Energy Reference Models
* **NREL 5-MW Reference Wind Turbine**: The tower validation is based on the official technical report:
  > *Jonkman, J., Butterfield, S., Musial, W., and Scott, G., "Definition of a 5-MW Reference Wind Turbine for Offshore System Development," NREL Technical Report NREL/TP-500-38060, February 2009.*
  * [**Download Official PDF (NREL)**](https://www.nrel.gov/docs/fy09osti/38060.pdf)
  * [**Project Page at NREL.gov**](https://www.nrel.gov/wind/data-models.html)


## Documentation & Code Comments

The library is designed with a **"self-documenting code"** approach. For developers and engineers who wish to dive deeper into the mathematical implementations or extend the library's functionality:

* **Well-Commented Source**: The main file `section_field.py` is extensively documented with internal comments, docstrings, and explicit assumptions.
* **Inline Instructions**: Every core function (from the Sutherland-Hodgman clipping to the Gaussian quadrature integrals) includes a description of its input parameters and expected physical units.
* **Developer Friendly**: You can find detailed explanations of the vertex-mapping logic and the stiffness matrix assembly directly above the respective function definitions.


## 5. Practical Example: Continuously Tapered T-Beam
This section demonstrates how to model a structural member where the geometry transitions smoothly between two different T-profiles.

### The Engineering Challenge
In standard FEM, a tapered beam is often approximated as a series of stepped prismatic segments. **CSF** instead treats the member as a **continuous ruled solid**, capturing the exact cubic variation of the moment of inertia $I(z)$ and the shift of the elastic centroid $C_y(z)$ without discretization errors.

<img width="493" height="420" alt="ruledvolumeT" src="https://github.com/user-attachments/assets/705b296c-ddb4-4ea3-b3f1-8af44a1ba7d5" />

<img width="503" height="445" alt="T-sectionat5" src="https://github.com/user-attachments/assets/e1950742-1bc0-4999-82dc-f68e6f903c22" />


<details>
<summary>Click to expand the full T-Beam Python example</summary>

```

    # --------------------------------------------------------
    # 1. DEFINE START SECTION (Z = 0)
    # --------------------------------------------------------
    # The start section is a T-shape composed of two polygons:
    # - flange (horizontal plate)
    # - web (vertical plate)


    # Define start polygons (T-Section at Z=0)
    poly0_start = Polygon(
        vertices=(Pt(-1, -0.2), Pt(1, -0.2), Pt(1, 0.2), Pt(-1, 0.2)),
        weight=1.0,
        name="flange",
    )
    poly1_start = Polygon(
        vertices=(Pt(-0.2, -1.0), Pt(0.2, -1.0), Pt(0.2, 0.2), Pt(-0.2, 0.2)),
        weight=1.0,
        name="web",
    )

    # --------------------------------------------------------
    # 2. DEFINE END SECTION (Z = 10)
    # --------------------------------------------------------
    # The flange remains unchanged.
    # The web depth increases linearly from 1.0 to 2.5,
    # producing a tapered T-section along the Z-axis.

    poly0_end = Polygon(
        vertices=(Pt(-1, -0.2), Pt(1, -0.2), Pt(1, 0.2), Pt(-1, 0.2)),
        weight=1.0,
        name="flange",
    )
    poly1_end = Polygon(
        vertices=(Pt(-0.2, -2.5), Pt(0.2, -2.5), Pt(0.2, 0.2), Pt(-0.2, 0.2)),
        weight=1.0,
        name="web",
    )

    # --------------------------------------------------------
    # 3. CREATE SECTIONS WITH Z-COORDINATES
    # --------------------------------------------------------
    # Each Section groups polygons and assigns a Z position.

    s0 = Section(polygons=(poly0_start, poly1_start), z=0.0)
    s1 = Section(polygons=(poly0_end, poly1_end), z=10.0)

    # --------------------------------------------------------
    # 4. INITIALIZE CONTINUOUS SECTION FIELD
    # --------------------------------------------------------
    # A linear interpolator is used to generate intermediate
    # sections between Z = 0 and Z = 10.
    field = ContinuousSectionField(section0=s0, section1=s1)


    # --------------------------------------------------------
    # 5. PRIMARY SECTION PROPERTIES (Z = 5.0)
    # --------------------------------------------------------
    # Properties are computed at mid-span.
    sec_mid = field.section(5.0)
    props = section_properties(sec_mid)
    
    print("\n" + "="*40)
    print("PRIMARY PROPERTIES AT Z=5.0 (Centroidal)")
    print("="*40)
    print(f"A:   {props['A']:.4f}      # Net Cross-Sectional Area")
    print(f"Cx:  {props['Cx']:.4f}     # Horizontal Centroid location (Global X)")
    print(f"Cy:  {props['Cy']:.4f}     # Vertical Centroid location (Global Y)")
    print(f"Ix:  {props['Ix']:.4f}     # Second Moment of Area about Centroidal X-axis")
    print(f"Iy:  {props['Iy']:.4f}     # Second Moment of Area about Centroidal Y-axis")
    print(f"Ixy: {props['Ixy']:.4f}    # Product of Inertia (Measure of asymmetry)")
    print(f"J:   {props['J']:.4f}      # Polar Moment of Area (Ix + Iy)")

    # 2. DERIVED PROPERTIES (Radius of Gyration, Principal Axes)
    derived = section_derived_properties(props)
    print("\n" + "-"*40)
    print("DERIVED GEOMETRIC PROPERTIES")
    print("-"*40)
    print(f"rx:  {derived['rx']:.4f}     # Radius of Gyration about X (sqrt(Ix/A))")
    print(f"ry:  {derived['ry']:.4f}     # Radius of Gyration about Y (sqrt(Iy/A))")
    print(f"I1:  {derived['I1']:.4f}     # Maximum Principal Moment of Area")
    print(f"I2:  {derived['I2']:.4f}     # Minimum Principal Moment of Area")
    print(f"Deg: {derived['theta_deg']:.2f}¬∞   # Principal Axis Rotation Angle")

    # --------------------------------------------------------
    # 7. STATICAL MOMENT OF AREA (Q)
    # --------------------------------------------------------
    # Computed at the neutral axis (y = Cy).
    # Used in shear stress calculations.)
    Q_na = section_statical_moment_partial(sec_mid, y_cut=props['Cy'])
    print("\n" + "-"*40)
    print("SHEAR ANALYSIS PROPERTIES")
    print("-"*40)
    print(f"Q_na: {Q_na:.4f}    # Statical Moment of Area above Neutral Axis (for Shear Stress)")

    # 8. VOLUMETRIC PROPERTIES
    total_vol = integrate_volume(field, n=200)
    print("\n" + "="*40)
    print("GLOBAL FIELD PROPERTIES (3D)")
    print("="*40)
    print(f"Total Volume: {total_vol:.4f} # Total material volume of the ruled solid")
    # Technical Explanation for the negative Cy
    print("\n" + "-"*50)
    print("TECHNICAL NOTE ON COORDINATES:")
    print("-"*50)
    print("The negative value for 'Cy' is physically correct.")
    print("In this model, the flange is centered at y=0, while the web")
    print("extends downwards (from y=0.2 to y=-1.0 at Z=0, and y=-2.5 at Z=10).")
    print("Since the majority of the T-section's mass is located below the")
    print("global X-axis (y=0), the centroid MUST have a negative Y-coordinate.")
    print("This indicates the geometric center is below the drawing origin.")
    print("-"*50)


    # --------------------------------------------------------
    # 9. VISUALIZATION
    # --------------------------------------------------------
    # - 2D section plot at Z = 5.0
    # - 3D ruled solid visualization
    viz = Visualizer(field)
    
    # Generate 2D plot for the specified slice
    viz.plot_section_2d(z=5.0)
    
    # Generate 3D plot of the interpolated solid
    # line_percent determines the density of the longitudinal ruled lines
    viz.plot_volume_3d(line_percent=100.0, seed=1)

    import matplotlib.pyplot as plt
    plt.show()
```
</details>

### How to Cite this Library
If you use **CSF** in your research, academic work, or professional projects, please cite it as follows:

> Boscu, G. (2025). **Continuous Section Field (CSF)**: A geometric and mechanical engine for non-prismatic structural members. Available at: https://github.com/giovanniboscu/continuous-section-field
